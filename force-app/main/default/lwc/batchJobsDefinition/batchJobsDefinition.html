<template>
  <lightning-card title="Batch Jobs Definition">
    <div class="slds-m-around_medium">
      <div class="slds-p-horizontal_medium">
        <lightning-button
          label="+"
          variant="brand"
          onclick={openmodal}
        ></lightning-button>
      </div>
      <br />
      <div>
        <lightning-datatable
          key-field="id"
          data={data}
          columns={columns}
          onrowaction={handleRowAction}
        >
        </lightning-datatable>
      </div>
      <c-paginator
        page-model={pageModel}
        page-size={pageSize}
        page-number={pageNumber}
        onpageclick={onPageClick}
      ></c-paginator>
    </div>

    <template if:true={openmodel}>
      <c-definitions-form
        is-edit={isEdit}
        current-definition={currentDefinition}
        onclose={closeModal}
        onsave={saveDefinition}
      ></c-definitions-form>
    </template>

    <c-confirmation-modal
      openconfirmation={openconfirmation}
      oncloseconfirmation={closeConfirmation}
      ondelete={handleDelete}
    ></c-confirmation-modal>
  </lightning-card>
</template>
